# SmartHalo 1 Revival Project

## üö¥‚Äç‚ôÇÔ∏è Bringing the SmartHalo 1 Back to Life

### Background

Five years ago, during the COVID-19 pandemic, I moved to a new house and stopped cycling. I dismounted my beloved SmartHalo 1 device and stored it away in its original box along with all accessories, manuals, and cables. It sat forgotten in my office closet for half a decade.

In mid-October 2025, while cleaning out my closets, I rediscovered the SmartHalo. When I searched for the app in the AppStore, I found nothing. Further research revealed the heartbreaking truth: the manufacturer had gone bankrupt, shut down their servers, and left all SmartHalo 1 and 2 owners unable to use their devices.

During my research, I discovered Kevin Perdlich's repository (https://github.com/kperdlich/SmartHalo) about extracting firmware from the SmartHalo 2 to obtain the password used in encryption between the smartphone and the device. He also shared basic source code to connect and control some fundamental SmartHalo 2 functions.

As an Apple ecosystem developer myself, I became interested in the possibility of reviving my SmartHalo 1 using the same techniques Kevin shared, and perhaps writing and sharing an iOS app with the community that would allow SmartHalo to work again, including GPS navigation.

I embarked on this adventure and I'm sharing my progress here.

---

## üìã Project Roadmap

### PHASE A - Opening the SmartHalo "Vault"

1. ‚úÖ Open the SmartHalo without destroying it
2. ‚úÖ Identify the Test Points (TPs) on the PCB that allow debugger connection
3. üîÑ Connect my Mac to the ST Link v2 debugger
4. üîÑ Install and configure OpenOCD on my Mac
5. ‚è≥ Extract the firmware to identify the password

### PHASE B - Creating an iOS App for SmartHalo

1. ‚úÖ Using Kevin's shared Android code, instruct Claude Code to generate a Swift iOS version using Apple's native SDKs for iPhone
2. ‚è≥ Organize the code generated by Claude Code focusing on the SmartHalo communication protocol and essential features: handshake, authentication, LED activation/deactivation, tap detection on SmartHalo, lighting control, and alarm triggering
3. ‚è≥ Begin development of a new app offering the same functionality as the original app
4. ‚è≥ Share the app with the community through an open-source repo so other iOS developers can contribute and accelerate app development

---

## üìù Development Log

### Week of October 27, 2025

#### PHASE A-1: ‚úÖ COMPLETED
- Successfully opened the SmartHalo without destroying it. The SmartHalo 1 cover was glued to the body. By inserting a flathead screwdriver next to the device's power connector and carefully advancing it around the cover exactly where it meets the body, I managed to separate the cover. See the `images` folder in this repo for photos of my SmartHalo after the non-destructive opening (SH_1_TearDown_1 and SH_1_TearDown_2). This was my biggest challenge so far, as I found no one on the internet talking about or describing how to open this device. Looking at it - no screws, no clips - it initially seemed impossible to open. But I thought: if Kevin opened his, I can too.

#### PHASE A-2: ‚úÖ COMPLETED
- I had never seen a Nordic nRF52832 chip before. I have very basic electronics knowledge and was surprised to see how many communication and programming possibilities this SoC offers. Still following Kevin's steps, I went looking for the TPs (I didn't even know what a TP was... through research I discovered they are Test Points that facilitate connectivity of external instruments for debugging - spectacular!).
- Initial frustration: TPs 41 and 42 that Kevin documented don't exist on the SmartHalo 1 PCB. What now? (images SH_1_PCB_Front and SH_1_PCB_Back)
- I discovered that TPs 41 and 42 are TPs connected to SWD, which is a pinout specification for debugging (SWDIO for bidirectional I/O and SWDCLK for the clock that regulates communication). So I looked for the nRF52832 documentation to see which pins had SWDIO and SWDCLK: pins 25 and 26 (image SWD_PINs_Location).
- To my surprise, I didn't find TPs for these two pins on my SmartHalo's PCB. It seems these TPs were intentionally removed from this version that was distributed to customers like me (image Pins_25_26_possible_location).
- I asked a friend with an electronics background for help understanding the safest way to connect the ST Link v2 to the nRF52832 chip without using TPs. I'm waiting for his response .

#### PHASE A-3: üîÑ IN PROGRESS
- I bought an ST Link v2 online (still following the path Kevin opened - thank you Kevin!!) and I'm waiting for it to arrive.

#### PHASE A-4: üîÑ STARTING
- I discovered that it's possible to install and run OpenOCD on a Mac.
- I'm looking for a version to download and install on my Mac while I wait for the ST Link v2 to arrive.

#### PHASE B-1: ‚úÖ COMPLETED
- I instructed Claude Code to read all the Android code that Kevin made available and generate an equivalent iOS version using Apple's native SDKs. Claude Code has completed this conversion.

---

## üõ†Ô∏è Hardware

- **Device**: SmartHalo 1
- **SoC**: Nordic nRF52832
- **Debugger**: ST Link v2
- **Debug Interface**: SWD (Serial Wire Debug)
  - SWDIO: Pin 25
  - SWDCLK: Pin 26

---

## üíª Software Stack

- **Platform**: iOS
- **Language**: Swift
- **Development Tool**: Xcode
- **Debugging Tool**: OpenOCD
- **BLE Communication**: Apple CoreBluetooth framework

---

## üéØ Goals

This app could be the reason some SmartHalo owners who stored their devices away might bring them back to life. Even if no one else does this, I'm doing it for myself for the pleasure of learning along the way and for the distraction and entertainment this type of activity provides me.

---

## ü§ù Contributing

This project is in active development. Contributions, suggestions, and feedback are welcome! If you're a SmartHalo owner or an iOS developer interested in helping revive these devices, feel free to:

- Open issues for bugs or feature requests
- Submit pull requests
- Share your own SmartHalo reverse engineering discoveries
- Test the app when it becomes available

---

## üìö Resources

- [Kevin Perdlich's SmartHalo 2 Repository](https://github.com/kperdlich/SmartHalo)
- [nRF52832 Product Specification](https://www.nordicsemi.com/products/nrf52832)
- [OpenOCD Documentation](https://openocd.org/)

---

## ‚ö†Ô∏è Disclaimer

This is an independent, community-driven project and is not affiliated with or endorsed by the original SmartHalo manufacturer. This project is for educational and personal use purposes. Reverse engineering and firmware extraction should be performed only on devices you own.

---

## üìÑ License

MIT License

Copyright (c) 2025 Marcel Mendes Filho

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

## üìß Contact

[Your contact information or preferred method of communication]

---

**Status**: üîÑ Active Development

**Last Updated**: October 2025

---

*Stay tuned for updates as I document progress over the coming weeks!*
